---
layout: post
title: Working with API's could get hairy!
subtitle: Using Twitter API and embedding.

---

#![Crepe](/img/tahiti.jpg){: .center-block :}

#### Choosing a target, evaluation metric, and baseline for regression:
In order to create a Web APP pulling data from TWitter,

![Crepe](/img/winddirwatertempbars.png){: .center-block :}
Visualizing what the model is predicting before droping the target!

![Crepe](/img/blobs.png){: .center-block :}
 

### Heat maps ###

Showcasing dependencies of features with most effect on the model!

![Crepe](/img/heatmapswelldirwaves.jpg){: .center-block :}

kdeplot showing the concentration of colder waters with NW winds and strong swell more than 5 feet at 8 sec intervals.
![Crepe](/img/gplot.png){: .center-block :}
Showcasing correlation between Wind Direction & Wind Speed

![Crepe](/img/winddirwindspeed.png){: .center-block :}

PDP showcasing at what point wind direction start affecting the temperature!

![Crepe](/img/pdp.png){: .center-block :}

PDP showcasing at what point wave height start affecting the temperature!

![Crepe](/img/wavepdp.png){: .center-block :}

#### We all love trees for a reason!

![Crepe](/img/treeleft.png){: .left-block :}  ![Crepe](/img/treerught.png){: .right-block :}

#### Creating an interactive app with Dash with deployment to Heroku

To not overwhelm you, I will share steps on doing so in a seperate post since I'm focusing in Regression Modeling, 
But for now you can check the link to my app [oceanai17](http://oceanai17.herokuapp.com/predictions)



The code to make a pipeline:


```javascript
#after importing all neccesary encoders, imputers and model!

pipeline = make_pipeline(
    ce.OrdinalEncoder(), 
    SimpleImputer(strategy='median'), 
    GradientBoostingRegressor(n_estimators=1000, subsample=0.8)
)

# Fit on train, score on val

pipeline.fit(X_train, y_train)
print('Train Accuracy', pipeline.score(X_train, y_train))
print('Validation Accuracy', pipeline.score(X_val, y_val))
print('Validation Accuracy', pipeline.score(X_test, y_test))
```

_Sources_: [NOAA](https://www.ndbc.noaa.gov), [Ocean Motion](https://www.oceanmotion.org), [UCSD](https://ucsd.edu)



[Data wrangling and feature engineering linked in my github](https://github.com/MehdiKhiatiDS/DS-Unit-1-Build/blob/master/Project_Up_Welling!.ipynb)

[Predictive modeling Link step by step code](https://github.com/MehdiKhiatiDS/DSAI/blob/master/ocean_AI17.ipynb.zip)
Heads up! Its a bit of a big file and you'll need to unzip it!



